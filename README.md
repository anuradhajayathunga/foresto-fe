# Foresto | Modern and Elegant Restaurant Experience — Frontend (Next.js)

A modern, responsive web frontend for the **SmartRestaurant AI System**, built with **Next.js** (App Router). It provides intuitive dashboards and workflows for restaurant operations, including sales tracking, purchasing, inventory management, demand forecasting, and analytics.

The application securely communicates with the backend API for authentication, data fetching, and triggering AI-powered operations.

[![Vercel Deploy](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=<YOUR_FRONTEND_REPO_LINK>)

---

## Table of Contents

- [Project Overview](#project-overview)
- [Key Features](#key-features)
- [Tech Stack](#tech-stack)
- [Architecture Diagram](#architecture-diagram)
- [Dependencies](#dependencies)
- [Getting Started](#getting-started)
- [Environment Variables](#environment-variables)
- [Available Scripts](#available-scripts)
- [Project Structure](#project-structure)
- [API Integration](#api-integration)
- [Authentication](#authentication)
- [Testing & Quality](#testing--quality)
- [Deployment](#deployment)
- [Version Control & Collaboration](#version-control--collaboration)
- [Contributing](#contributing)
- [Related Repositories](#related-repositories)
- [License](#license)

---

## Project Overview
This frontend is the user interface of the **SmartRestaurant AI System**. It enables:
- Restaurant staff/admins to manage daily workflows (sales, purchases, inventory)
- Viewing analytics and forecasting results generated by backend services
- Real-time/near-real-time dashboards backed by API-driven data

The frontend is designed to be **modular**, **scalable**, and **easy to collaborate on** with clear branching + PR workflows.

---

## Key Features
- Secure login/logout (JWT/session-based depending on backend implementation)
- Dashboard & KPI views (sales, inventory, purchases, forecasting)
- CRUD screens (e.g., suppliers, purchase invoices, items/products, etc.)
- Forecasting UI (trigger training, view forecasts, history)
- Responsive UI for laptop/tablet use
  
---

## Tech Stack

- **Framework**: Next.js 15+ (App Router, Server Components, React Server Actions)
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **UI Components**: shadcn/ui 
- **HTTP Client**: Axios / native fetch
- **Forms & Validation**: React Hook Form + Zod
- **Charts**: Chart.js / Recharts
- **State Management**: React Context / Zustand / TanStack Query (as needed)
- **Authentication**: JWT (or session-based, matching backend)

---

## Architecture Diagram

### System Overview

```mermaid
flowchart LR
    U[Users / Evaluators] -->|Browser| FE[Frontend: Next.js App]
    FE -->|HTTPS REST/JSON| BE[Backend: Django / DRF API]
    BE --> DB[(Database: PostgreSQL/MySQL)]
    BE --> R[(Redis / Queue)]
    BE --> ML[Forecasting / ML Service]
    ML --> DB
````

### Frontend Internal Flow

```mermaid
flowchart TB
    Pages[Routes / Pages] --> Layouts[Layouts]
    Pages --> Features[Feature Modules]
    Features --> UI[Reusable UI Components]
    Features --> API[API Client Layer]
    API -->|fetch/axios| Backend[(Backend API)]
    Features --> State[State Management]
```

## Dependencies

### System Requirements

* **Node.js:** v18+ (recommended)
* **Package Manager:** npm
* **Backend API:** Running foresto backend server

### Main Libraries (`package.json` extract)

``` json
{
 "dependencies": {
    "apexcharts": "^5.3.6",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "lottie-react": "^2.4.1",
    "lucide-react": "^0.562.0",
    "next": "16.1.1",
    "next-themes": "^0.4.6",
    "react": "19.2.3",
    "react-apexcharts": "^1.9.0",
    "react-dom": "19.2.3",
    "react-hot-toast": "^2.6.0",
    "recharts": "^3.6.0",
    "tailwind-merge": "^3.4.0",
    "tailwindcss-animate": "^1.0.7"
  },
  "devDependencies": {
    "@tailwindcss/postcss": "^4.1.18",
    "@types/node": "^20",
    "@types/react": "^19",
    "@types/react-dom": "^19",
    "autoprefixer": "^10.4.23",
    "eslint": "^9",
    "eslint-config-next": "16.1.1",
    "postcss": "^8.5.6",
    "tailwindcss": "^4.1.18",
    "tw-animate-css": "^1.4.0",
    "typescript": "^5"
  }
}
```

## Getting Started

### 1) Clone the Repository
``` bash
git clone <YOUR_FRONTEND_REPO_LINK>
cd <frontend-folder>
```

### 2) Install dependencies
Using npm:
``` bash
npm install
```
or yarn/pnpm:
``` bash
yarn install
# or
pnpm install
```

## Configure Environment Variables
Create a `.env.local` file in the project root:
``` env
# Base URL of the backend API (Django/DRF)
NEXT_PUBLIC_API_BASE_URL=http://localhost:8000
```
> If your backend uses CORS, ensure the backend allows requests from `http://localhost:3000`.

* * *
### Start Development Server
``` bash
npm run dev
# or
yarn dev
# or
pnpm dev
```
> Open [http://localhost:3000](http://localhost:3000) in your browser.

* * *
## Available Scripts
``` bash
# Start development server
npm run dev

# Build for production
npm run build

# Start production server
npm run start

# Run linting
npm run lint

# Run TypeScript compiler
npm run type-check

# Run tests
npm run test

# Run tests with coverage
npm run test:coverage

# Format code with Prettier
npm run format

# Check formatting
npm run format:check
```
## Project Structure
```
smartrestaurant-frontend/
├── public/                 # Static assets
├── src/
│   ├── app/               # Next.js 14 App Router
│   │   ├── (auth)/        # Authentication routes
│   │   ├── (dashboard)/   # Dashboard routes
│   │   ├── globals.css
│   │   ├── layout.tsx
│   │   └── page.tsx
│   ├── components/        # Reusable UI components
│   │   ├── ui/           # Primitive components (Button, Input, etc.)
│   │   ├── layout/       # Layout components
│   │   ├── charts/       # Chart components
│   │   ├── tables/       # Table components
│   │   ├── auth/         # Authentication logic
│   │   ├── dashboard/    # Dashboard features
│   │   ├── sales/        # Sales management
│   │   ├── inventory/    # Inventory management
│   │   ├── purchases/    # Purchasing management
│   │   ├── forecasting/  # Forecasting features
│   │   └── suppliers/    # Supplier management
│   ├── hooks/            # Custom React hooks
│   ├── lib/              # Utilities and configurations
│   │   ├── api/          # API client setup
│   │   ├── auth/         # Authentication helpers
│   │   ├── stores/       # Zustand stores
│   │   ├── utils/        # Utility functions
│   │   └── validation/   # Validation schemas
│   └── types/            # TypeScript type definitions
├── .env.example          # Environment variables template
├── tailwind.config.ts   # Tailwind CSS configuration
└── package.json
```
## API Integration
``` typescript
import axios from 'axios';

const apiClient = axios.create({
  baseURL: process.env.NEXT_PUBLIC_API_BASE_URL,
  headers: {
    'Content-Type': 'application/json',
  },
});

// Request interceptor for adding auth tokens
apiClient.interceptors.request.use(/* ... */);

// Response interceptor for handling errors
apiClient.interceptors.response.use(/* ... */);

export default apiClient;
```
### Feature API Modules
Each feature has its own API module:
``` typescript
// src/features/forecasting/api.ts
import apiClient from '@/lib/api/client';

export const forecastingAPI = {
  getForecasts: (params) => 
    apiClient.get('/api/forecasting/', { params }),

  triggerTraining: (data) => 
    apiClient.post('/api/forecasting/train/', data),

  getForecastHistory: (forecastId) => 
    apiClient.get(`/api/forecasting/${forecastId}/history/`),
};
```
## Authentication
The frontend uses JWT authentication with refresh tokens:
### Authentication Flow
* User submits login credentials
* Backend returns access token (short-lived) and refresh token (long-lived)
* Tokens stored in secure, HTTP-only cookies
* Access token included in Authorization header for API requests
* On 401 responses, automatically refresh token using refresh token
* On refresh failure, redirect to login page
### Protected Routes
Use middleware to protect routes:
``` typescript
// src/middleware.ts
import { NextResponse } from 'next/server';
import type { NextRequest } from 'next/server';

export function middleware(request: NextRequest) {
  const token = request.cookies.get('smartrestaurant_auth');

  if (!token && request.nextUrl.pathname.startsWith('/dashboard')) {
    return NextResponse.redirect(new URL('/login', request.url));
  }

  return NextResponse.next();
}
```
### Auth Context
``` typescript
// src/features/auth/context/AuthContext.tsx
import { createContext } from 'react';

export const AuthContext = createContext({
  user: null,
  login: async (credentials) => {},
  logout: () => {},
  isAuthenticated: false,
});
```
## Testing & Quality
